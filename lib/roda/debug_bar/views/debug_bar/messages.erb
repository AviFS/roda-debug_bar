<% if @data[:messages].nil? %>
  <!-- <div class="px-4 py-2 odd:bg-white even:bg-ruby-50">No queries</div> -->
  <li>No messages to log</li>
<% else %>
  <div class="px-4 py-2 space-y-2">
    <% @data[:messages].each do |message| %>
      <div class="flex items-center">
        <!-- <div class="flex justify-center items-center"><span class="pl-1 pb-2 bg-blue-400 w-4 h-4 rounded-full">!</span></div> -->

<!-- This case statement doesn't work if the block is indented right -->
<!-- Seems to be a bug with ERB rendering -->
<% color = '' %>
<% case message[:type] %>
<% when :info %>
  <% color = 'blue' %>
  <svg class="size-4 fill-<%= color %>-600"
       xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"> <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14ZM8 4a.75.75 0 0 1 .75.75v3a.75.75 0 0 1-1.5 0v-3A.75.75 0 0 1 8 4Zm0 8a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" clip-rule="evenodd" /> </svg>
<% when :warn %>
  <% color = 'yellow' %>
  <svg class="size-4 fill-<%= color %>-600"
       xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor"> <path fill-rule="evenodd" d="M6.701 2.25c.577-1 2.02-1 2.598 0l5.196 9a1.5 1.5 0 0 1-1.299 2.25H2.804a1.5 1.5 0 0 1-1.3-2.25l5.197-9ZM8 4a.75.75 0 0 1 .75.75v3a.75.75 0 1 1-1.5 0v-3A.75.75 0 0 1 8 4Zm0 8a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" clip-rule="evenodd" /> </svg>
<% when :error %>
  <% color = 'red' %>
  <svg class="size-4 fill-<%= color %>-600"
       xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor"> <path fill-rule="evenodd" d="M6.701 2.25c.577-1 2.02-1 2.598 0l5.196 9a1.5 1.5 0 0 1-1.299 2.25H2.804a1.5 1.5 0 0 1-1.3-2.25l5.197-9ZM8 4a.75.75 0 0 1 .75.75v3a.75.75 0 1 1-1.5 0v-3A.75.75 0 0 1 8 4Zm0 8a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" clip-rule="evenodd" /> </svg>
<% end %>

        <!-- This is so tailwind generates the dynamically used styles -->
        <div hidden class="text-blue-900 text-red-900 text-yellow-900"></div>

        <span class="ml-1 text-<%= color %>-900">
          <%= message[:message] %>
        </span>

      </div>
    <% end %>
  </div>
<% end %>
